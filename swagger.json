{
  "openapi": "3.0.3",
  "info": {
    "title": "API DeGusto",
    "description": "APIs para el sistema de DeGusto",
    "contact": {
      "url": "https://www.linkedin.com/in/guillermo-yeltsin-baltodano-león-86938413b/"
    },
    "version": "1.0"
  },
  "externalDocs": {
    "description": "Más sobre Swagger",
    "url": "http://swagger.io"
  },
  "servers": [{ "url": "http://localhost:3000/api/" },{"url": "http://localhost:3000/"}],
  "tags": [
    {
        "name": "User",
        "description": "Modulo de Usuario"
      },
    {
      "name": "BusinessArea",
      "description": "Area/Tipo/Rubro de Negocio"
    },
    {
      "name": "Business",
      "description": "Modulo de Negocio"
    },
    {
      "name": "Image",
      "description": "Modulo de Imágenes"
    },
    {
      "name": "Dish",
      "description": "Modulo de los platos"
    },
    {
      "name": "Sales",
      "description": "Modulo de los ventas"
    },
    {
      "name": "Review",
      "description": "Modulo de los comentarios"
    }
  ],
  "paths": {
    "/user/login":{
      "post": {
        "tags": [ "User" ],
        "summary": "Credenciales para iniciar sesión",
        "description": "",
        "operationId": "loginUser",
        "requestBody":{
            "content": {
                "application/json":{
                    "schema":{
                        "type": "object",
                        "properties": {
                            "userName":{
                                  "type": "string",
                                  "example":"prueba"
                              },
                              "userPassword":{
                                  "type": "string",
                                  "example":"123"
                                
                              }
                        }
                    }
                }
            }
        },
        "responses": {
          "200": {
            "description": "successful operation",
            "content": {
              "application/json": {
                "schema": {
                    "$ref": "#/components/schemas/User"
                }
              }
            }
          },
          "400": {
            "description": "Credenciales incorrectos",
            "content": {
                "application/json":{
                    "schema":{
                        "type": "object",
                        "properties": {
                            "message":{
                                "type": "string",
                                "example":"Usuario o contraseña incorrectos"
                            }
                        }
                    }
                }
            }
          },
          "403": {
            "description": "Usuario suspendido",
            "content": {
                "application/json":{
                    "schema":{
                        "type": "object",
                        "properties": {
                            "message":{
                                "type": "string",
                                "example":"Cuenta de usuario suspendido"
                            }
                        }
                    }
                }
            }
          }
        }
      }
    },
    "/user/register":{
        "post":{
            "tags": ["User"],
            "summary": "Crear cuenta del Usuario",
            "description": "Registrar al usuario",
            "operationId": "createUser",
            "requestBody": {
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "#/components/schemas/Account"
                        }
                    }
                },
                "required": true
            },
            "responses": {
                "201": {
                    "description": "successful operation",
                    "content": {
                    "application/json": {
                        "schema": {
                        "$ref": "#/components/schemas/Users"
                        }
                    }
                    }
                },
                "400": {
                    "description": "Invalid input"
                },
                "409": {
                    "description": "El correo electrónico o nombre de usuario ya está registrado. "
                },
                "500": {
                    "description": "Error al crear el usuario o conexión a la base de datos."
                }
            }
        }
    },
    "/user/logout":{
      "post": {
        "tags": [ "User" ],
        "summary": "Cerrar sesión",
        "description": "",
        "operationId": "logoutUser",
        "responses": {
          "200": {
            "description": "Sesión cerrada",
            "content": {
                "application/json":{
                    "schema":{
                        "type": "object",
                        "properties": {
                            "message":{
                                "type": "string",
                                "example":"Sesión cerrada"
                            }
                        }
                    }
                }
            }
          }
        }
      }
    },
    "/user": {
        "get":{
            "tags": [ "User" ],
            "summary": "Lista de todos los usuarios",
            "description": "Lista de los usuarios",
            "operationId": "getUsers",
            "parameters": [],
            "responses": {
                "200": {
                    "description": "successful operation",
                    "content": {
                        "application/json":{
                            "schema":{
                                "type": "array",
                                "items":{
                                    "$ref": "#/components/schemas/Users"
                                }
                            }
                        }
                    }
                },
                "404": {
                    "description": "No implementado"
                }
            }
        }
    },
    "/user/validateSession": {
        "get":{
            "tags": [ "User" ],
            "summary": "Verificar si la sesión del usuario esta activo",
            "description": "Sesión del usuarios",
            "operationId": "validateSession",
            "parameters": [],
            "responses": {
                "200": {
                    "description": "successful operation",
                    "content": {
                        "application/json":{
                            "schema":{
                                    "type": "object",
                                    "properties": {
                                        "id":{
                                            "type": "integer",
                                            "format": "int64",
                                            "example":0
                                        },
                                        "username":{
                                            "type": "string",
                                            "example":"alice_johnson"
                                        },
                                        "userStatus":{
                                            "type": "integer",
                                            "example":0
                                        },
                                        "personEmail":{
                                            "type": "string",
                                            "example":"prueba@gmail.com"
                                        },
                                        "iat":{
                                            "type": "integer",
                                            "example":0
                                        },
                                        "exp":{
                                            "type": "integer",
                                            "example":0
                                        }
                                    }
                                
                            }
                        }
                    }
                },
                "404": {
                    "description": "No implementado"
                },
                "403": {
                    "description": "Sesión no activa",
                    "content": {
                        "application/json":{
                            "schema":{
                                "type": "object",
                                "properties": {
                                    "message":{
                                        "type": "string",
                                        "example":"Sesión no activa"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "/user/{id}":{
        "get":{
            "tags": [ "User" ],
            "summary": "Ver la cuenta del Usuario",
            "description": "Datos del usuario por Id",
            "operationId": "getUserById",
            "parameters": [
                {
                    "name": "id",
                    "in": "path",
                    "description": "ID del usuario a buscar",
                    "required": true,
                    "schema": {
                      "type": "integer",
                      "format": "int64"
                    }
                }
            ],
            "responses": {
                "200":{
                    "description": "successful operation",
                    "content": {
                        "application/json":{
                            "schema":{
                                "$ref": "#/components/schemas/Users"
                            }
                        }
                    }
                },
                "404": {
                    "description": "Propietario no encontrado"
                }
            }
        },
        "delete":{
            "tags": [ "User" ],
            "summary": "Eliminar la cuenta del usuario",
            "description": "Enviar el ID de la cuenta para eliminarlo",
            "operationId": "deleteUserById",
            "parameters": [
                {
                    "name": "id",
                    "in": "path",
                    "description": "ID del usuario a buscar",
                    "required": true,
                    "schema": {
                      "type": "integer",
                      "format": "int64"
                    }
                }
            ],
            "responses": {
                "200":{
                    "description": "successful operation",
                    "content": {
                        "application/json":{
                            "schema":{
                                "type": "boolean"
                            }
                        }
                    }
                },
                "404": {
                    "description": "Negocio no encontrado"
                }
            }
        },
        "put":{
            "tags": [ "User" ],
            "summary": "Actualizar la cuenta del usuario",
            "description": "Actualizar el tipo y estado de la cuenta",
            "operationId": "updateUser",
            "parameters": [
                {
                    "name": "id",
                    "in": "path",
                    "description": "ID del usuario",
                    "required": true,
                    "schema": {
                      "type": "integer",
                      "format": "int64"
                    }
                }
            ],
            "requestBody": {
                "content": {
                    "application/json": {
                        "schema": {
                            "type": "object",
                            "properties": {
                                "personTypeId":{
                                    "type": "integer",
                                    "format": "int64",
                                    "description": "1: Owner, 2: Customer, 3 Admin",
                                    "example":1
                                },
                                "userStatus":{
                                    "type": "integer",
                                    "format": "int64",
                                    "description": "0: pendiente/Solicitud, 1:Activo, 2:eliminado",
                                    "example":1
                                }
                            }
                        }
                    }
                },
                "required": true
            },
            "responses": {
                "200":{
                    "description": "successful operation",
                    "content": {
                        "application/json":{
                            "schema":{
                                "type": "object",
                                "properties": {
                                    "userId":{
                                        "type": "integer",
                                        "format": "int64",
                                        "example":1
                                    },
                                    "personTypeId":{
                                        "type": "integer",
                                        "format": "int64",
                                        "description": "1: Owner, 2: Customer, 3 Admin",
                                        "example":1
                                    },
                                    "userStatus":{
                                        "type": "integer",
                                        "format": "int64",
                                        "description": "0: pendiente/Solicitud, 1:Activo, 2:eliminado",
                                        "example":1
                                    }
                                }
                            }
                        }
                    }
                },
                "404": {
                    "description": "Negocio no encontrado"
                }
            }
        }
    },
    "/businessareas": {
        "get": {
            "tags": [
                "BusinessArea"
            ],
            "summary": "Lista de las areas/tipos/rubros de negocios",
            "description": "Lista de las areas/tipos/rubros de negocios",
            "operationId": "getBusinessArea",
            "parameters": [],
            "responses": {
                "200": {
                    "description": "successful operation",
                    "content": {
                        "application/json":{
                            "schema":{
                                "type": "array",
                                "items":{
                                    "$ref":"#/components/schemas/BusinessArea"
                                }
                            }
                        }
                    }
                },
                "404": {
                    "description": "No implementado"
                }
            }
        }
    },
    "/business":{
        "get":{
            "tags": [
                "Business"
            ],
            "summary": "Lista de todos los negocios",
            "description": "Lista de todos los negocios",
            "operationId": "getBusiness",
            "parameters": [
                {
                    "name": "userId",
                    "in": "query",
                    "description": "Id del Usuario para ver sus negocios",
                    "required": true,
                    "schema": {
                        "type": "integer",
                        "example":0
                    }
                },
                {
                    "name": "businessName",
                    "in": "query",
                    "description": "Nombre del negocio",
                    "schema": {
                        "type": "string",
                        "example": "La Buena Mesa"
                    }
                },
                {
                    "name": "businessStatus",
                    "in": "query",
                    "description": "Estados de los negocios: 0: pendiente/Solicitud, 1:Activo, 2:eliminado, NO ENVIAR SI QUIERE QUE SE MUESTRE TODOS",
                    "schema": {
                        "type": "integer",
                        "nullable": true,
                        "example":0
                    }
                }
        ],
            "responses": {
                "200":{
                    "description": "successful operation",
                    "content": {
                        "application/json":{
                            "schema":{
                                "type": "array",
                                "items":{
                                    "$ref": "#/components/schemas/Business"
                                }
                            }
                        }
                    }
                },
                "400": {
                  "description": "Negocio no encontrado",
                  "content": {
                      "application/json":{
                          "schema":{
                              "type": "object",
                              "properties": {
                                  "message":{
                                      "type": "string",
                                      "example":"Usuario o contraseña incorrectos"
                                  }
                              }
                          }
                      }
                  }
                }
            }
        },
        "post":{
            "tags": ["Business"],
            "summary": "Crear Negocio",
            "description": "Registrar un negocio",
            "operationId": "createBusiness",
            "requestBody": {
                "content": {
                    "multipart/form-data": {
                        "schema": {
                            "$ref": "#/components/schemas/BusinessTwo"
                        }
                    }
                },
                "required": true
            },
            "responses": {
                "201": {
                    "description": "successful operation",
                    "content": {
                    "application/json": {
                        "schema": {
                        "$ref": "#/components/schemas/Business"
                        }
                    }
                    }
                },
                "400": {
                    "description": "Invalid input"
                },
                "422": {
                    "description": "Validation exception"
                }
            }
        }
    },
    "/business/search":{
        "get":{
            "tags": [
                "Business"
            ],
            "summary": "Lista de los negocios con sus platos por una descripción y que estén activos",
            "description": "Lista de los negocios con sus platos activos en la aplicación móvil",
            "operationId": "getBusinessSearch",
            "parameters": [
                {
                    "name": "latitude",
                    "in": "query",
                    "description": "Longitud de la ubicación del usuario",
                    "required": true,
                    "schema": {
                        "type": "number",
                        "example": -8.074157889449705
                    }
                },
                {
                    "name": "longitude",
                    "in": "query",
                    "description": "Latitud de la ubicación del usuario",
                    "required": true,
                    "schema": {
                        "type": "number",
                        "example": -79.05579181295246
                    }
                }, 
                {
                    "name": "search",
                    "in": "query",
                    "description": "Descripción del negocio o plato",
                    "schema":{
                        "type": "string",
                        "example":"La Buena Mesa"
                    }
                }
            ],
            "responses": {
                "200":{
                    "description": "successful operation",
                    "content": {
                        "application/json":{
                            "schema":{
                                "type": "array",
                                "items":{
                                    "$ref": "#/components/schemas/BusinessDishes"
                                }
                            }
                        }
                    }
                },
                "400": {
                  "description": "Negocio no encontrado",
                  "content": {
                      "application/json":{
                          "schema":{
                              "type": "object",
                              "properties": {
                                  "message":{
                                      "type": "string",
                                      "example":"Usuario o contraseña incorrectos"
                                  }
                              }
                          }
                      }
                  }
                }
            }
        }
    },
    "/business/popular":{
        "get":{
            "tags": [
                "Business"
            ],
            "summary": "Lista de los negocios más populares cerca de la ubicación",
            "description": "Lista de los 5 negocios más populares cercanos",
            "operationId": "getBusinessPopular",
            "parameters": [
                {
                    "name": "latitude",
                    "in": "query",
                    "description": "Longitud de la ubicación del usuario",
                    "required": true,
                    "schema": {
                        "type": "number",
                        "example": -8.074157889449705
                    }
                },
                {
                    "name": "longitude",
                    "in": "query",
                    "description": "Latitud de la ubicación del usuario",
                    "required": true,
                    "schema": {
                        "type": "number",
                        "example": -79.05579181295246
                    }
                }
            ],
            "responses": {
                "200":{
                    "description": "successful operation",
                    "content": {
                        "application/json":{
                            "schema":{
                                "type": "array",
                                "items":{
                                    "$ref": "#/components/schemas/BusinessMovil"
                                }
                            }
                        }
                    }
                },
                "400": {
                  "description": "Negocio no encontrado",
                  "content": {
                      "application/json":{
                          "schema":{
                              "type": "object",
                              "properties": {
                                  "message":{
                                      "type": "string",
                                      "example":"Negocios no encontrados"
                                  }
                              }
                          }
                      }
                  }
                }
            }
        }
    },
    "/business/{id}":{
        "get":{
            "tags": [
                "Business"
            ],
            "summary": "Obtener un negocio",
            "description": "Obtener los detalles de un negocio",
            "operationId": "getBusinessById",
            "parameters": [
                {
                    "name": "id",
                    "in": "path",
                    "description": "ID del negocio a buscar",
                    "required": true,
                    "schema": {
                      "type": "integer",
                      "format": "int64"
                    }
                }
            ],
            "responses": {
                "200":{
                    "description": "successful operation",
                    "content": {
                        "application/json":{
                            "schema":{
                                "$ref": "#/components/schemas/Business"
                            }
                        }
                    }
                },
                "404": {
                    "description": "Negocio no encontrado"
                }
            }
        },
        "delete":{
            "tags": [
                "Business"
            ],
            "summary": "Eliminar un negocio",
            "description": "Enviar el ID del negocio para eliminarlo",
            "operationId": "deleteBusinessById",
            "parameters": [
                {
                    "name": "id",
                    "in": "path",
                    "description": "ID del negocio a buscar",
                    "required": true,
                    "schema": {
                      "type": "integer",
                      "format": "int64"
                    }
                }
            ],"responses": {
                "200":{
                    "description": "successful operation",
                    "content": {
                        "application/json":{
                            "schema":{
                                "type": "boolean"
                            }
                        }
                    }
                },
                "404": {
                    "description": "Negocio no encontrado"
                }
            }
        },
        "put":{
            "tags": ["Business"],
            "summary": "Actualizar Negocio",
            "description": "Modificar un negocio",
            "operationId": "updateBusiness",
            "parameters": [
                {
                    "name": "id",
                    "in": "path",
                    "description": "ID del negocio a buscar",
                    "required": true,
                    "schema": {
                      "type": "integer",
                      "format": "int64"
                    }
                }
            ],
            "requestBody": {
                "content": {
                    "multipart/form-data": {
                        "schema": {
                            "$ref": "#/components/schemas/BusinessTwo"
                        }
                    }
                },
                "required": true
            },
            "responses": {
                "200": {
                    "description": "successful operation",
                    "content": {
                    "application/json": {
                        "schema": {
                        "$ref": "#/components/schemas/Business"
                        }
                    }
                    }
                },
                "400": {
                    "description": "Invalid input"
                },
                "422": {
                    "description": "Validation exception"
                }
            }
        }
    },
    "/business/states":{
        "get": {
            "tags": [
                "Business"
            ],
            "summary": "Lista de los tipos de estados para los negocios",
            "description": "Lista de los tipos de estados",
            "operationId": "getBusinessStatesList",
            "responses": {
                "200": {
                    "description": "successful operation",
                    "content": {
                        "application/json": {
                            "schema":{
                                "type": "object",
                                "properties": {
                                    "businessStatus":{
                                        "type": "integer",
                                        "example":1
                                    },
                                    "businessStatusName":{
                                        "type":"string",
                                        "example":"Solicitud"
                                    }
                                }
                            }
                        }
                    }
                },
                "404": {
                    "description": "No implementado"
                }
            }
        },
        "put":{
            "tags":["Business"],
            "summary":"Actualizar solo el estado del negocio",
            "description":"Enviar el valor del estado del negocio",
            "operationId":"updateBusinessState",
            "requestBody": {
                "content": {
                    "application/json": {
                        "schema":{
                            "type": "object",
                            "properties": {
                                "businessId":{
                                    "type": "integer",
                                    "format": "int64",
                                    "example":1
                                },
                                "businessStatus":{
                                    "type":"integer",
                                    "format": "int64",
                                    "example":2
                                }
                            }
                        }
                    }
                },
                "required": true
            },
            "responses": {
                "200": {
                    "description": "successful operation",
                    "content": {
                        "application/json": {
                            "schema":{
                                "type": "object",
                                "properties": {
                                    "businessId":{
                                        "type": "integer",
                                        "example":1
                                    },
                                    "businessStatus":{
                                        "type":"integer",
                                        "example":2
                                    }
                                }
                            }
                        }
                    }
                },
                "400": {
                    "description": "Valor invalido",
                    "content": {
                        "application/json": {
                            "schema":{
                                "type": "object",
                                "properties": {
                                    "message":{
                                        "type": "string",
                                        "example":"Valor de estado invalida."
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "/images/{root}/{name}/{type}/{image}":{
        "get":{
            "tags": [
                "Image"
            ],
            "summary": "Mostrar imagen",
            "description": "Agrega la ruta completa de la imagen a visualizar",
            "operationId": "getImagen",
            "parameters": [
                {
                    "name": "root",
                    "in": "path",
                    "description": "Ruta inicial",
                    "required": true,
                    "schema": {
                      "type": "string"
                    }
                },
                {
                    "name": "name",
                    "in": "path",
                    "description": "Nombre del Negocio",
                    "required": true,
                    "schema": {
                      "type": "string"
                    }
                },
                {
                    "name": "type",
                    "in": "path",
                    "description": "Tipo de imagen",
                    "required": true,
                    "schema": {
                      "type": "string"
                    }
                },
                {
                    "name": "image",
                    "in": "path",
                    "description": "Nombre de la imagen",
                    "required": true,
                    "schema": {
                      "type": "string"
                    }
                }
            ],
            "responses": {
                "200":{
                    "description": "successful operation",
                    "content": {
                        "imagen/*":{
                            "schema":{
                                "type": "string",
                                "format": "binary",
                                "example":"Va a cargar la imagen"
                            }
                        }
                    }
                }
            }
        }
    },
    "/images/upload":{
        "post":{
            "tags": ["Image"],
            "summary": "Guardar Imagen",
            "description": "Es para hacer pruebas de guardar image",
            "operationId": "saveImage",
            "requestBody": {
                "content": {
                    "multipart/form-data": {
                        "schema": {
                            "type": "object",
                            "properties": {
                                "businessName":{
                                    "type": "string",
                                    "example":"La Buena Mesa"
                                },
                                "businessAddress":{
                                    "type": "string",
                                    "example":"123 Gourmet Street"
                                },
                                "businessPhoneNumber":{
                                    "type": "string",
                                    "example":"123456789"
                                },
                                "file": {
                                    "type": "string",
                                    "format": "binary",
                                    "description": "La imagen a subir"
                                }
                            },
                            "required": ["file", "businessName", "businessAddress","businessPhoneNumber"]
                        }
                    }
                },
                "required": true
            },
            "responses": {
                "201": {
                    "description": "successful operation",
                    "content": {
                    "application/json": {
                        "schema": {
                        "$ref": "#/components/schemas/Business"
                        }
                    }
                    }
                },
                "400": {
                    "description": "Invalid input"
                },
                "422": {
                    "description": "Validation exception"
                }
            }
        }
    },
    "/dish/dishCategory":{
        "get":{
            "tags": [ "Dish" ],
            "summary": "Lista de todas las categorías de los platos",
            "description": "Lista de las primeras 5 categorías de los platos más vendidos",
            "operationId": "getDishCategory",
            "parameters": [],
            "responses": {
                "200": {
                    "description": "successful operation",
                    "content": {
                        "application/json":{
                            "schema":{
                                "type": "array",
                                "items":{
                                    "$ref": "#/components/schemas/CategoryDish"
                                }
                            }
                        }
                    }
                },
                "404": {
                    "description": "No implementado"
                }
            }
        }
    },
    "/dish/dishCategory/{businessId}":{
        "get":{
            "tags": [ "Dish" ],
            "summary": "Lista de todas las categorías de los platos por Negocio",
            "description": "Lista de las categorías de los platos por el ID del negocio",
            "operationId": "getDishCategoryByBusinessId",
            "parameters": [{
                "name": "businessId",
                "in": "path",
                "description": "ID del negocio del plato",
                "required": true,
                "schema": {
                  "type": "integer",
                  "format": "int64"
                }
            }],
            "responses": {
                "200": {
                    "description": "successful operation",
                    "content": {
                        "application/json":{
                            "schema":{
                                "type": "array",
                                "items":{
                                    "$ref": "#/components/schemas/CategoryDish"
                                }
                            }
                        }
                    }
                },
                "404": {
                    "description": "No implementado"
                }
            }
        }
    },
    "/dish/popular/{dishCategoryId}":{
        "get":{
            "tags": [ "Dish" ],
            "summary": "Lista de los platos más populares",
            "description": "Lista de los 5 platos más vendidos por su categoría",
            "operationId": "getPopularDish",
            "parameters": [
                {
                    "name": "dishCategoryId",
                    "in": "path",
                    "description": "ID de la categoría del plato",
                    "required": true,
                    "schema": {
                      "type": "integer",
                      "format": "int64"
                    }
                }
            ],
            "responses": {
                "200": {
                    "description": "successful operation",
                    "content": {
                        "application/json":{
                            "schema":{
                                "type": "array",
                                "items":{
                                    "$ref": "#/components/schemas/Dish"
                                }
                            }
                        }
                    }
                },
                "404": {
                    "description": "No implementado"
                }
            }
        }
    },
    "/dish/business/{dishBusinessId}":{
        "get":{
            "tags": [ "Dish" ],
            "summary": "Lista de los platos por su negocio",
            "description": "Lista de todos platos del negocio",
            "operationId": "getDishByBusinessId",
            "parameters": [
                {
                    "name": "dishBusinessId",
                    "in": "path",
                    "description": "ID del negocio del plato",
                    "required": true,
                    "schema": {
                      "type": "integer",
                      "format": "int64"
                    }
                }
            ],
            "responses": {
                "200": {
                    "description": "successful operation",
                    "content": {
                        "application/json":{
                            "schema":{
                                "type": "array",
                                "items":{
                                    "$ref": "#/components/schemas/Dish"
                                }
                            }
                        }
                    }
                },
                "404": {
                    "description": "No implementado"
                }
            }
        }
    },
    "/dish":{
        "post":{
            "tags": ["Dish"],
            "summary": "Crear un plato",
            "description": "Registrar un plato",
            "operationId": "createDish",
            "requestBody": {
                "content": {
                    "multipart/form-data": {
                        "schema": {
                            "$ref": "#/components/schemas/Dish"
                        }
                    }
                },
                "required": true
            },
            "responses": {
                "201": {
                    "description": "successful operation",
                    "content": {
                    "application/json": {
                        "schema": {
                        "$ref": "#/components/schemas/Dish"
                        }
                    }
                    }
                },
                "400": {
                    "description": "Invalid input"
                },
                "422": {
                    "description": "Validation exception"
                }
            }
        },
        "put":{
            "tags": ["Dish"],
            "summary": "Editar un plato",
            "description": "Modificar un plato",
            "operationId": "updateDish",
            "requestBody": {
                "content": {
                    "multipart/form-data": {
                        "schema": {
                            "$ref": "#/components/schemas/Dish"
                        }
                    }
                },
                "required": true
            },
            "responses": {
                "200": {
                    "description": "successful operation",
                    "content": {
                    "application/json": {
                        "schema": {
                        "$ref": "#/components/schemas/Dish"
                        }
                    }
                    }
                },
                "400": {
                    "description": "Invalid input"
                },
                "422": {
                    "description": "Validation exception"
                }
            }
        }
    },
    "/dish/{id}":{
        "get":{
            "tags": [
                "Dish"
            ],
            "summary": "Obtener un plato",
            "description": "Obtener los detalles del plato por su Id",
            "operationId": "getDishById",
            "parameters": [
                {
                    "name": "id",
                    "in": "path",
                    "description": "ID del plato a buscar",
                    "required": true,
                    "schema": {
                      "type": "integer",
                      "format": "int64"
                    }
                }
            ],
            "responses": {
                "200": {
                    "description": "successful operation",
                    "content": {
                    "application/json": {
                        "schema": {
                        "$ref": "#/components/schemas/Dish"
                        }
                    }
                    }
                },
                "400": {
                    "description": "Invalid input"
                },
                "422": {
                    "description": "Validation exception"
                }
            }
        },
        "delete":{
            "tags": [
                "Dish"
            ],
            "summary": "Eliminar un plato",
            "description": "Enviar el ID del plato para eliminarlo",
            "operationId": "deleteDishById",
            "parameters": [
                {
                    "name": "id",
                    "in": "path",
                    "description": "ID del plato a buscar",
                    "required": true,
                    "schema": {
                      "type": "integer",
                      "format": "int64"
                    }
                }
            ],"responses": {
                "200":{
                    "description": "successful operation",
                    "content": {
                        "application/json":{
                            "schema":{
                                "type": "object",
                                "properties": {
                                    "message":{
                                        "type": "string",
                                        "example":"Plato eliminado"
                                    }
                                }
                            }
                        }
                    }
                },
                "404": {
                    "description": "Negocio no encontrado"
                }
            }
        }
    },
    "/sales":{
        "post":{
            "tags": ["Sales"],
            "summary": "Crear la reserva de platos",
            "description": "Registrar una reservación",
            "operationId": "createReservation",
            "requestBody": {
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "#/components/schemas/Sales"
                        }
                    }
                },
                "required": true
            },
            "responses": {
                "201": {
                    "description": "successful operation",
                    "content": {
                    "application/json": {
                        "schema":{
                                "type": "object",
                                "properties": {
                                    "message":{
                                        "type": "string",
                                        "example":"Reservación guardada satisfactoriamente"
                                    }
                                }
                            }
                    }
                    }
                },
                "400": {
                    "description": "Invalid input"
                },
                "422": {
                    "description": "Validation exception"
                }
            }
        }
    },
    "/sales/business/{businessId}" :{
        "get":{
            "tags": [ "Sales" ],
            "summary": "Obtener las reservaciones por el Id del Negocio",
            "description": "Lista de todas las reservaciones por el Id del Negocio",
            "operationId": "getSalesByBusinessId",
            "parameters": [
                {
                    "name": "businessId",
                    "in": "path",
                    "description": "ID del negocio",
                    "required": true,
                    "schema": {
                      "type": "integer",
                      "format": "int64",
                      "example": 0
                    }
                }
            ],
            "responses": {
                "200": {
                    "description": "successful operation",
                    "content": {
                    "application/json":{
                            "schema":{
                                "type": "array",
                                "items":{
                                    "$ref": "#/components/schemas/SalesList"
                                }
                            }
                        }
                    }
                },
                "400": {
                    "description": "Invalid input"
                },
                "422": {
                    "description": "Validation exception"
                }
            }
        }
    },
    "/sales/user/{userId}" :{
        "get":{
            "tags": [ "Sales" ],
            "summary": "Obtener las reservaciones por el Id del Usuario",
            "description": "Lista de todas las reservaciones por el Id del Usuario",
            "operationId": "getSalesByUserId",
            "parameters": [
                {
                    "name": "userId",
                    "in": "path",
                    "description": "ID del usuario",
                    "required": true,
                    "schema": {
                      "type": "integer",
                      "format": "int64",
                      "example": 0
                    }
                }
            ],
            "responses": {
                "200": {
                    "description": "successful operation",
                    "content": {
                    "application/json":{
                            "schema":{
                                "type": "array",
                                "items":{
                                    "$ref": "#/components/schemas/SalesList"
                                }
                            }
                        }
                    }
                },
                "400": {
                    "description": "Invalid input"
                },
                "422": {
                    "description": "Validation exception"
                }
            }
        }
    },
    "/review":{
        "post":{
            "tags": ["Review"],
            "summary": "Crear un comentario",
            "description": "Registrar un comentario",
            "operationId": "createReview",
            "requestBody": {
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "#/components/schemas/Review"
                        }
                    }
                },
                "required": true
            },
            "responses": {
                "201": {
                    "description": "successful operation",
                    "content": {
                    "application/json": {
                        "schema":{
                                "type": "object",
                                "properties": {
                                    "message":{
                                        "type": "string",
                                        "example":"Comentario guardado satisfactoriamente"
                                    }
                                }
                            }
                    }
                    }
                },
                "400": {
                    "description": "Invalid input"
                },
                "422": {
                    "description": "Validation exception"
                }
            }
        }
    }
  },
  "components": {
    "schemas": {
        "User":{
            "type": "object",
            "properties": {
                "userId":{
                    "type": "integer",
                    "example":0
                },
                "userName":{
                    "type": "string",
                    "example":"prueba"
                },
                "userStatus":{
                    "type": "integer",
                    "description": "0: pendiente/Solicitud, 1:Activo, 2:eliminado",
                    "example":0
                },
                "personEmail":{
                    "type": "string",
                    "example":"prueba@gmail.com"
                },
                "person_TypeId":{
                    "type": "integer",
                    "description": "1: Owner, 2: Customer, 3 Admin",
                    "example":0
                }
            }
        },
        "BusinessArea":{
            "type": "object",
            "properties": {
                "businessAreaId":{
                    "type": "integer",
                    "format": "int64",
                    "example":0
                },
                "businessAreaName":{
                    "type": "string",
                    "example":"Restaurante"
                }
            }
        },
        "Business":{
            "type": "object",
            "properties": {
                "businessId":{
                    "type": "integer",
                    "format": "int64",
                    "example":0
                },
                "businessName":{
                    "type": "string",
                    "example":"La Buena Mesa"
                },
                "businessAddress":{
                    "type": "string",
                    "example":"123 Gourmet Street"
                },
                "businessPhoneNumber":{
                    "type": "string",
                    "example":"123456789"
                },
                "businessStatus":{
                    "type": "integer",
                    "format": "int64",
                    "example":1
                },
                "businessLogo":{
                    "type": "string",
                    "example":"restaurant_logo.png"
                },
                "businessLatitude":{
                    "type": "integer",
                    "format": "int64",
                    "example": 40.712776
                },
                "businessLongitude":{
                    "type": "integer",
                    "format": "int64",
                    "example": -74.005974
                },
                "businessCategorization":{
                    "type": "integer",
                    "format": "int64",
                    "example": 3
                },
                "business_AreaId": {
                    "type": "integer",
                    "format": "int64",
                    "example": 1
                },
                "business_UserId": {
                    "type": "integer",
                    "format": "int64",
                    "example": 1
                }
            }
        },
        "BusinessMovil":{
            "type": "object",
            "properties": {
                "businessId":{
                    "type": "integer",
                    "format": "int64",
                    "example":0
                },
                "businessName":{
                    "type": "string",
                    "example":"La Buena Mesa"
                },
                "businessAddress":{
                    "type": "string",
                    "example":"123 Gourmet Street"
                },
                "businessPhoneNumber":{
                    "type": "string",
                    "example":"123456789"
                },
                "businessStatus":{
                    "type": "integer",
                    "format": "int64",
                    "example":1
                },
                "businessLogo":{
                    "type": "string",
                    "example":"restaurant_logo.png"
                },
                "businessLatitude":{
                    "type": "integer",
                    "format": "int64",
                    "example": 40.712776
                },
                "businessLongitude":{
                    "type": "integer",
                    "format": "int64",
                    "example": -74.005974
                },
                "businessCategorization":{
                    "type": "integer",
                    "format": "int64",
                    "example": 3
                },
                "businessAverageRating": {
                    "type": "integer",
                    "format": "int64",
                    "example": 1
                },
                "businessTotalReviews": {
                    "type": "integer",
                    "format": "int64",
                    "example": 5
                },
                "businessDistance": {
                    "type": "string",
                    "example": "5448.94 km"
                }
            }
        },
        "Users":{
            "type": "object",
            "properties": {
                "userId":{
                    "type": "integer",
                    "format": "int64",
                    "example":0
                },
                "userName":{
                    "type": "string",
                    "example":"alice_johnson"
                },
                "personName":{
                    "type": "string",
                    "example":"Alice Johnson"
                },
                "personEmail":{
                    "type": "string",
                    "example":"alicej@example.com"
                },
                "personPhoneNumber":{
                    "type": "string",
                    "example":"123456789"
                },
                "personTypeName":{
                    "type": "string",
                    "example":"Customer"
                },
                "userStatus":{
                    "type": "integer",
                    "example":1
                },
                "userCreatedAt":{
                    "type": "string",
                    "example":"01/09/2024"
                }
            }
        },
        "Account":{
            "type": "object",
            "properties": {
                "personTypeId":{
                    "type": "integer",
                    "format": "int64",
                    "example":1
                },
                "name":{
                    "type": "string",
                    "example":"Alice Johnson"
                },
                "email":{
                    "type": "string",
                    "example":"alicej@example.com"
                },
                "phoneNumber":{
                    "type": "string",
                    "example":"123456789"
                },
                "userName":{
                    "type": "string",
                    "example":"alice_johnson"
                },
                "password":{
                    "type": "string",
                    "example":"123"
                },
                "createDate":{
                    "type": "string",
                    "example":"01/09/2024"
                }
            }
        },
        "BusinessTwo":{
            "type": "object",
            "properties": {
                "businessName":{
                    "type": "string",
                    "example":"La Buena Mesa"
                },
                "businessAddress":{
                    "type": "string",
                    "example":"123 Gourmet Street"
                },
                "businessPhoneNumber":{
                    "type": "string",
                    "example":"123456789"
                },
                "businessStatus":{
                    "type": "integer",
                    "format": "int64",
                    "example":1
                },
                "businessLogo":{
                    "type": "string",
                    "example":"restaurant_logo.png",
                    "description": "Es obligatorio al editar para no eliminar la imagen"
                },
                "businessLatitude":{
                    "type": "integer",
                    "format": "int64",
                    "example": 40.712776
                },
                "businessLongitude":{
                    "type": "integer",
                    "format": "int64",
                    "example": -74.005974
                },
                "businessCategorization":{
                    "type": "integer",
                    "format": "int64",
                    "example": 3
                },
                "business_AreaId": {
                    "type": "integer",
                    "format": "int64",
                    "example": 1
                },
                "business_UserId": {
                    "type": "integer",
                    "format": "int64",
                    "example": 1
                },
                "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "La imagen a subir"
                }
            },
            "required": ["businessName", "businessAddress","businessPhoneNumber",
                        "businessStatus","businessLatitude","businessLongitude",
                        "businessCategorization","business_AreaId","business_UserId"]
        },
        "CategoryDish":{
            "type": "object",
            "properties": {
                "dishCategoryID":{
                    "type": "integer",
                    "format": "int64",
                    "example":0
                },
                "dishCategoryName":{
                    "type": "string",
                    "example":"Bebida"
                }
            }
        },
        "Dish":{
            "type": "object",
            "properties": {
                "dishId": {
                    "type": "integer",
                    "format": "int64",
                    "example": 0
                },
                "dishName":{
                    "type": "string",
                    "example":"Tallarín con pollo"
                },
                "dishDescription":{
                    "type": "string",
                    "example":"Descripción de lo que lleva el plato"
                },
                "dishPrice":{
                    "type": "number",
                    "example":20.00
                },
                "dishPhoto":{
                    "type": "string",
                    "example":"Ruta final donde esta almacenada la imagen"
                },
                "dishStatus":{
                    "type": "boolean",
                    "example":true
                },
                "dish_BusinessId": {
                    "type": "integer",
                    "format": "int64",
                    "example": 0
                },
                "dish_CategoriesId": {
                    "type": "integer",
                    "format": "int64",
                    "example": 0
                },
                "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "La imagen a subir"
                }
            },
            "required": [ "dishId", "dishName","dishDescription",
        "dishPrice","dishPhoto","dishStatus","dish_BusinessId","dish_CategoriesId"]
        },
        "DishDetail":{
            "type": "object",
            "properties": {
                "dishId": {
                    "type": "integer",
                    "format": "int64",
                    "example": 0
                },
                "dishName":{
                    "type": "string",
                    "example":"Tallarín con pollo"
                },
                "dishDescription":{
                    "type": "string",
                    "example":"Descripción de lo que lleva el plato"
                },
                "dishPrice":{
                    "type": "number",
                    "example":20.00
                },
                "dishPhoto":{
                    "type": "string",
                    "example":"Ruta final donde esta almacenada la imagen"
                },
                "dishStatus":{
                    "type": "boolean",
                    "example":true
                },
                "dish_BusinessId": {
                    "type": "integer",
                    "format": "int64",
                    "example": 0
                },
                "dish_CategoriesId": {
                    "type": "integer",
                    "format": "int64",
                    "example": 0
                }
            }
        },
        "BusinessDishes":{
            "type": "object",
            "properties": {
                "businessId":{
                    "type": "integer",
                    "format": "int64",
                    "example":0
                },
                "businessName":{
                    "type": "string",
                    "example":"La Buena Mesa"
                },
                "businessAddress":{
                    "type": "string",
                    "example":"123 Gourmet Street"
                },
                "businessPhoneNumber":{
                    "type": "string",
                    "example":"123456789"
                },
                "businessStatus":{
                    "type": "integer",
                    "format": "int64",
                    "example":1
                },
                "businessLogo":{
                    "type": "string",
                    "example":"restaurant_logo.png"
                },
                "businessLatitude":{
                    "type": "integer",
                    "format": "int64",
                    "example": 40.712776
                },
                "businessLongitude":{
                    "type": "integer",
                    "format": "int64",
                    "example": -74.005974
                },
                "businessCategorization":{
                    "type": "integer",
                    "format": "int64",
                    "example": 3
                },
                "businessAverageRating": {
                    "type": "integer",
                    "format": "int64",
                    "example": 1
                },
                "businessTotalReviews": {
                    "type": "integer",
                    "format": "int64",
                    "example": 5
                },
                "businessDistance": {
                    "type": "string",
                    "example": "5448.94 km"
                },
                "dishes": {
                    "type": "array",
                    "items":{
                        "$ref": "#/components/schemas/DishDetail"
                    }
                }
            }
        },
        "Sales":{
            "type": "object",
            "properties": {
                "reservationId": {
                    "type": "integer",
                    "format": "int64",
                    "example": 0
                },
                "reservationTime":{
                    "type": "string",
                    "description": "Fecha y hora de la reserva",
                    "example":"01/09/2024 12:30"
                },
                "reservationNumberPeople":{
                    "type": "integer",
                    "description": "Cantidad de personas",
                    "example":"5"
                },
                "reservationPaymentAmount":{
                    "type": "number",
                    "description": "Monto total de la reserva",
                    "example":20.00
                },
                "reservationPhoto":{
                    "type": "string",
                    "description": "Captura de la transacción sobre el adelanto de la reserva",
                    "example":"Captura de la transacción sobre el adelanto de la reserva"
                },
                "reservation_UserId":{
                    "type": "integer",
                    "description": "Id del usuario que hizo la reserva",
                    "example":0
                },
                "reservation_BusinessId": {
                    "type": "integer",
                    "format": "int64",
                    "description": "Id del negocio donde hizo la reserva",
                    "example": 0
                }
                ,
                "reservationDetails": {
                    "type": "array",
                    "items":{
                        "$ref": "#/components/schemas/SalesDetail"
                    }
                }
            }
        },
        "SalesDetail":{
            "type": "object",
            "properties": {
                "detail_DishId":{
                    "type": "integer",
                    "description": "Id del plato",
                    "example":1
                },
                "reservationDetailQuantity": {
                    "type": "integer",
                    "format": "int64",
                    "description": "Cantidad del plato a reservar",
                    "example": 0
                },
                "reservationDetailPrice":{
                    "type": "number",
                    "description": "Precio del plato",
                    "example":20.00
                }
            }
        },
        "SalesList":{
            "type": "object",
            "properties": {
                "reservationId": {
                    "type": "integer",
                    "format": "int64",
                    "example": 0
                },
                "reservationTime":{
                    "type": "string",
                    "description": "Fecha y hora de la reserva",
                    "example":"01/09/2024 12:30"
                },
                "reservationNumberPeople":{
                    "type": "integer",
                    "description": "Cantidad de personas",
                    "example":"5"
                },
                "reservationPaymentAmount":{
                    "type": "number",
                    "description": "Monto total de la reserva",
                    "example":20.00
                },
                "reservationPaymentStatus":{
                    "type": "integer",
                    "description": "Numero sobre el estado de la reserva",
                    "example":1
                },
                "businessName":{
                    "type": "string",
                    "description": "Nombre del negocio",
                    "example":"La Buena Mesa"
                },
                "userName": {
                    "type": "string",
                    "description": "Usuario del usuario",
                    "example": "prueba"
                }
            }
        },
        "Review":{
            "type": "object",
            "properties": {
                "reviewsId": {
                    "type": "integer",
                    "format": "int64",
                    "example":0
                },
                "reviewRating":{
                    "type": "integer",
                    "description": "Solo se aceptan valores del 1 al 5",
                    "example":1
                },
                "reviewComment":{
                    "type": "string",
                    "example":"Comentario sobre la atención o experiencia en el negocio"
                },
                "reviewCreateAt":{
                    "type": "string",
                    "description": "Fecha y hora del comentario",
                    "example":"01/09/2024 12:30"
                },
                "review_UserId":{
                    "type": "integer",
                    "description": "Id del usuario que hizo el comentario",
                    "example":0
                },
                "review_BusinessId": {
                    "type": "integer",
                    "format": "int64",
                    "description": "Id del negocio donde hizo el comentario",
                    "example": 0
                }
            }
        }
    }
  }
}
